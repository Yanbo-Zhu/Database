
# 1 Selbstlerntest 5 - Datendefinition, Datenmanipulation mit SQL:

1
Gegeben sind die folgenden SQL-Anweisungen:
```sql
CREATE TABLE Dozent  
  ( DozNr INTEGER PRIMARY KEY,  
     Name VARCHAR(30));

CREATE TABLE Prüfung  ( DozentNr CHAR(3), StudentNr CHAR(6), …,
    PRIMARY KEY (DozentNr, StudentNr),    FOREIGN KEY (DozentNr) REFERENCES Dozent(DozNr),    FOREIGN KEY (StudentNr) REFERENCES Student(MatrNr) );

```


Ist das angegebene Skript syntaktisch und semantisch korrekt?
Die richtige Antwort ist 'Falsch'.
(Hinweis: Leerzeichen, Zeilenumbrüche müssen nicht berücksichtigt werden)

解释: Der Datentyp bei DozNr in Dozent ist INTEGER und bei Prüfung CHAR(3). Die Referenzierung des Studierenden funktioniert nicht, da keine Relation Student existiert.



2
Was unterscheidet ON DELETE NO ACTION von ON DELETE RESTRICT?

Frage 2 Wählen Sie eine oder mehrere Antworten:

- die Umsetzung des Verbots der DELETE-Operation
- das Ergebnis
- nichts
- die Umsetzung der Erlaubnis der DELETE-Operation
- NO ACTION benutzt - wenn nötig - ein ROLLBACK der Transaktion, während RESTRICT darauf verzichten kann.

Die richtigen Antworten sind: 
die Umsetzung des Verbots der DELETE-Operation, NO ACTION benutzt - wenn nötig - ein ROLLBACK der Transaktion, während RESTRICT darauf verzichten kann.



3

Recherche: Wofür wurde der Datentyp BLOB in SQL eingeführt?

Frage 3 Wählen Sie eine oder mehrere Antworten:

um grössere Videodaten zu verwalten
um grössere Zeichenkettendaten (Character) zu verwalten
um grössere Bilddaten zu verwalten
um grössere Datumsdaten zu verwalten
um grössere Binärdaten zu verwalten
um grössere numerische Daten zu verwalten
um grössere Audiodaten zu verwalten


Die Antwort ist richtig.

Die richtigen Antworten sind: 
um grössere Binärdaten zu verwalten, 
um grössere Audiodaten zu verwalten, 
um grössere Bilddaten zu verwalten, 
um grössere Videodaten zu verwalten

4 
Recherche: Den SQL-Datentyp Boolean gibt es bei Oracle als Datentyp für Attribute in Relationen nicht.

Die richtige Antwort ist 'Falsch'.



5

Gegeben sind die folgenden Datendefinitionsbefehle. Was passiert, wenn die Definition der Tabelle „Artikel“ vor derjenigen zur Tabelle „Firma“ erfolgt und warum?

```sql
CREATE TABLE Firma (  
Firma CHARACTER VARYING(100) PRIMARY KEY,  
Gruendg NUMERIC(4));

CREATE TABLE Artikel (  
ArtNr NUMERIC(10) PRIMARY KEY,  
Modell CHARACTER VARYING(100),  
Firma CHARACTER VARYING(100),  
Modellj NUMERIC(4),  
FOREIGN KEY (Firma) REFERENCES Firma(Firma));
```

Frage 5 Wählen Sie eine oder mehrere Antworten:

- Die Tabelle Firma wird angelegt. Die Tabelle Artikel wird angelegt, aber ohne den Fremdschlüssel.
- Die Tabelle Firma wird angelegt, obwohl die Tabelle Artikel nicht angelegt werden kann.
- Die beiden Tabellen werden korrekt angelegt, da die Reihenfolge der Datendefinition unerheblich ist.
- Der Fremdschlüssel kann nicht definiert werden. Es gibt eine Fehlermeldung, die Tabelle Artikel kann nicht angelegt werden.
- Die Tabelle Artikel wird angelegt, obwohl die Tabelle Firma nicht angelegt werden kann.


Die richtigen Antworten sind: 
- Der Fremdschlüssel kann nicht definiert werden. Es gibt eine Fehlermeldung, die Tabelle Artikel kann nicht angelegt werden.,
- Die Tabelle Firma wird angelegt, obwohl die Tabelle Artikel nicht angelegt werden kann.\



6

Recherche: Betrachten Sie eine Oracle-Datenbank, bei der (etwa für die Angabe von Rechtecken zur geometrischen Eingrenzung von Orten) die Spaltennamen „xmin“ und „xmax“ in Tabellen verwendet werden. Welche Herausforderungen ergeben sich bei der Migration auf ein anderes RDBMS (insbesondere PostgreSQL)?

Frage 6 Wählen Sie eine oder mehrere Antworten:

Eine Komprimierung der Spalten ist erforderlich, da es sich um numerische Spalten handelt.
Eine Aggregation kann nicht vorgenommen werden, da es sich um Systemspalten handelt.
Eine Umbenennung ist erforderlich.
Es ist keine Aktion erforderlich. Die Migration verläuft ohne Fehler.


Die richtige Antwort ist: Eine Umbenennung ist erforderlich.



7


Gegeben ist das folgende SQL-Statement:

```sql
CREATE TABLE Dozent  
(
id INTEGER NOT NULL,
name VARCHAR(20),
fachbereich INTEGER,
PRIMARY KEY(id),
FOREIGN KEY(fachbereich) references Fachbereich(id)  
ON DELETE CASCADE
);
```

Was bewirkt in diesem Zusammenhang ON DELETE CASCADE?

Frage 7 Wählen Sie eine oder mehrere Antworten:
- erst wird der Fachbereich und danach werden die Dozenten des Fachbereichs gelöscht
- es wird der Fachbereich gelöscht, die Dozenten bleiben erhalten und werden einem anderen Fachbereich zugeordnet
- sowohl der Fachbereich als auch der oder die zugeordneten Dozenten werden gelöscht
- es werden die Dozenten des Fachbereichs gelöscht, der Fachbereich bleibt erhalten und neue Dozenten können ihm zugeordnet werden
- erst werden die Dozenten und danach der zugeordnete Fachbereich gelöscht

Die richtigen Antworten sind: 
- sowohl der Fachbereich als auch der oder die zugeordneten Dozenten werden gelöscht, 
- erst wird der Fachbereich und danach werden die Dozenten des Fachbereichs gelöscht


8 

Wo werden die Optionen - no action, restrict, cascade, set null, set default - zur Behandlung der kritischen Delete- und Update-Operationen gesetzt?

Frage 8 Wählen Sie eine oder mehrere Antworten:

bei ALTER TABLE, beim Primärschlüssel
bei CREATE TABLE, beim Fremdschlüssel
bei ALTER TABLE, beim Fremdschlüssel
bei CREATE TABLE, beim Primärschlüssel

Die richtigen Antworten sind: bei CREATE TABLE, beim Fremdschlüssel, bei ALTER TABLE, beim Fremdschlüssel



9


Gegeben sind die folgenden Relationen. Mit welchen Befehlen werden korrekt Tabellen dafür angelegt?   
Mitglied(Mitgliedsnummer, Nachname, Vorname)    Mitgliedsnummer ist primarkey 
Mitgliedschaft(Mitgliedsnummer->Mitglied.Mitgliedsnummer, Eintrittsdatum, Austrittsdatum)  Mitgliedsnummer and Eintrittsdatum are primarkeys 

Frage 9 Wählen Sie eine oder mehrere Antworten:

```
create table mitglied  
(mitgliedsnummer int,  
nachname varchar(30),  
vorname varchar(30),
primary key (mitgliedsnummer));

create table mitgliedschaft
(mitgliedsnummer int,  
eintrittsdatum date,  
austrittsdatum date,  
primary key (mitgliedsnummer, eintrittsdatum),  
foreign key (mitgliedsnummer) references mitglied(mitgliedsnummer));
```

```
create table mitglied  
(mitgliedsnummer int primary key,  
nachname varchar(30),  
vorname varchar(30));

create table mitgliedschaft
(mitgliedsnummer int,  
eintrittsdatum date,  
austrittsdatum date,  
primary key (mitgliedsnummer, eintrittsdatum),  
foreign key (mitgliedsnummer) references mitglied(mitgliedsnummer));
```


```
create table mitgliedschaft
(mitgliedsnummer int,
eintrittsdatum date,
austrittsdatum date,
primary key (mitgliedsnummer, eintrittsdatum)); 


create table mitglied
(mitgliedsnummer int primary key,
nachname varchar(30),
vorname varchar(30)
foreign key (mitgliedsnummer) references mitgliedschaft(mitgliedsnummer));  // 这里错了
```



```
create table mitglied
(mitgliedsnummer int primary key,
nachname varchar(30),
vorname varchar(30));


create table mitgliedschaft
(mitgliedsnummer int primary key, // 这里错了
eintrittsdatum date primary key, // 这里错了
austrittsdatum date,
foreign key (mitgliedsnummer) references mitglied(mitgliedsnummer));
```


```
create table mitgliedschaft
(mitgliedsnummer int,
eintrittsdatum date,
austrittsdatum date,
primary key (mitgliedsnummer, eintrittsdatum),
foreign key (mitgliedsnummer) references mitglied(mitgliedsnummer));

// 应该先生成 mitglied table 
create table mitglied
(mitgliedsnummer int primary key,
nachname varchar(30),
vorname varchar(30));
```


1 2  是对的 




10
Recherche: Seit wann gibt es den Datentyp XML im SQL-Standard?

Frage 10 Wählen Sie eine Antwort:
2004
2002
2003
1999
2013

Die richtige Antwort ist: 2003






